\documentclass[11pt]{article}

\usepackage{amsmath}
\usepackage{hyperref}
\usepackage{xepersian}

\author{پرهام الوانی}
\title{تکلیف معماری کامپیوتر سری ۲}
\begin{document}
\begin{titlepage}
\begin{center}
\emph{به نام خدا}
\end{center}
\maketitle
\begin{center}
\end{center}
\end{titlepage}
\tableofcontents
\newpage
\section{مساله 1}
\begin{align*}
	&\text{: Instruction with no memory operand} \\
	&= 10 + (1 - 0.9) * (200 + (1 - 0.99) * 450) \\
	&= 10 + 0.1 * (200 + 0.01 * 450) \\
	&= 10 + 0.1 * (200 + 4.5) \\
	&= 10 + 20 + 0.45 \\
	&= 30.45ns \\
	&\text{: Instruction with one memory operand} \\
	&= 30.45 + 20 + (1 - 0.85) * (200 + (1 - 0.99) * 450) \\
	&= 30.45 + 20 + 0.15 * (200 + 4.5) \\
	&= 30.45 + 20 + 30 + 0.675 \\
	&= 80.45 + 0.675 \\
	&= 81.125ns \\
	&\text{: Instruction with two memory operand} \\
	&= 30.45 + 2 * (20 + 30 + 0.675) \\
	&= 30.45 + 100 + 1.35 \\
	&= 130.8ns \\
\end{align*}
\begin{align*}
	&\text{: and finally AMAT} \\
	&= 30.45 * 0.5 + 81.125 * 0.35 + 130.8 * 0.15 \\
	&= 15.22 + 28.393 + 19.62 \\
	&= 63.233ns \\
\end{align*}
\section{مساله 2}
\begin{align*}
	0& \rightarrow &0000 0000 \\
	21& \rightarrow &0001 0101 \\
	23& \rightarrow &0001 0111 \\
	35& \rightarrow &0010 0011 \\
	76& \rightarrow &0100 1100 \\
	1& \rightarrow  &0000 0001 \\
	66& \rightarrow &0100 0010 \\
	80& \rightarrow &0101 0000 \\
	54& \rightarrow &0011 0110 \\
	36& \rightarrow &0010 0100 \\
	24& \rightarrow &0001 1000 \\
	23& \rightarrow &0001 0111 \\
	75& \rightarrow &0100 1011 \\
	2& \rightarrow &0000 0010 \\
\end{align*}
\begin{center}
	\begin{tabular}{l || l | c | r}
		address & \#1 & \#2 & \#3 \\
		\hline
		0  & miss & hit & hit \\
		21 & miss & hit & hit \\
		23 & hit  & hit & hit \\
		35 & miss & hit & hit \\
		76 & miss & hit & hit \\
		1  & hit  & hit & hit \\
		66 & hit  & hit & hit \\
		80 & miss & hit & hit \\
		54 & miss & hit & hit \\
		36 & hit  & hit & hit \\
		24 & hit  & hit & hit \\
		23 & hit  & hit & hit \\
		75 & hit  & hit & hit \\
		2  & hit  & hit & hit \\
	\end{tabular}
\end{center}
\begin{align*}
	\text{miss rate} &= \\
	&= \frac{6}{14 * 3} = \frac{1}{7} \\
\end{align*}
\section{مساله 3}
بله با افزایش k همواره مقدار hit ratio افزایش میابد. این موضوع را میتوان اینگونه توصیف کرد که با افزایش k رعایت همجواری های زمانی بیشتر میشود که این موضوع در کنار رعایت همجواری مکانی در blocking باعث افزایش hit ratio میشود.
\section{مساله 4}
\paragraph{1}
\begin{center}
	\begin{tabular}{l || c}
		address & \#1 \\
		\hline
		0  & miss \\
		1  & hit  \\
		15 & miss \\
		14 & hit  \\
		14 & hit  \\
		15 & hit  \\
		16 & miss \\
		2  & hit  \\
		23 & miss \\
		27 & miss \\
		16 & hit  \\
		14 & hit  \\
		1  & hit  \\
		21 & hit  \\
		22 & hit  \\
		23 & hit  \\
		22 & hit  \\
		10 & miss \\
		18 & hit  \\
		15 & hit  \\
		1  & hit  \\
		0  & hit  \\
		14 & hit  \\
		28 & miss \\
		25 & hit  \\
	\end{tabular}
	\begin{tabular}{l || c | c | c | c}
		sets & Tag-1 & Tag-2 & Tag-3 & Tag-4 \\
		\hline
		0 & 0 & 2 & 3 & 1 \\
		1 & 1 & 2 & 3 & - \\
	\end{tabular}
	\begin{align*}
		\text{miss rate} &= \\
		&= \frac{18}{25} = 72% \\
	\end{align*}
\end{center}
\paragraph{2}
\begin{center}
	\begin{tabular}{l || c}
		address & \#1 \\
		\hline
		0  & miss \\
		1  & hit \\
		15 & miss \\
		14 & hit \\
		14 & hit  \\
		15 & hit  \\
		16 & miss \\
		2  & hit  \\
		23 & miss \\
		27 & miss \\
		16 & hit  \\
		14 & hit  \\
		1  & hit  \\
		21 & hit  \\
		22 & hit  \\
		23 & hit  \\
		22 & hit  \\
		10 & miss \\
		18 & hit  \\
		15 & hit  \\
		1  & hit  \\
		0  & hit  \\
		14 & hit  \\
		28 & miss \\
		25 & hit  \\
	\end{tabular}
	\begin{tabular}{l || c}
		sets & Tag-1 \\
		\hline
		0 & 0  \\
		1 & - \\
		2 & 0 \\
		3 & 0 \\
		4 & 0 \\
		5 & 0 \\
		6 & 0 \\
		7 & 0 \\
	\end{tabular}
	\begin{align*}
		\text{miss rate} &= \\
		&= \frac{18}{25} = 72% \\
	\end{align*}
\end{center}
\paragraph{3}
\begin{center}
	\begin{tabular}{l || c}
		address & \#1 \\
		\hline
		0  & miss \\
		1  & hit  \\
		15 & miss \\
		14 & hit  \\
		14 & hit  \\
		15 & hit  \\
		16 & miss \\
		2  & miss \\
		23 & miss \\
		27 & miss \\
		16 & hit  \\
		14 & hit  \\
		1  & hit  \\
		21 & miss \\
		22 & hit  \\
		23 & hit  \\
		22 & hit  \\
		10 & miss \\
		18 & miss \\
		15 & hit  \\
		1  & hit  \\
		0  & hit  \\
		14 & hit  \\
		28 & miss \\
		25 & miss \\
	\end{tabular}
	\begin{align*}
		\text{miss rate} &= \\
		&= \frac{14}{25} = 56% \\
	\end{align*}
\end{center}
\paragraph{4}
\begin{center}
	\begin{tabular}{l || c}
		address & \#1 \\
		\hline
		0  & miss \\
		1  & hit  \\
		15 & miss \\
		14 & hit  \\
		14 & hit  \\
		15 & hit  \\
		16 & miss \\
		2  & miss \\
		23 & miss \\
		27 & miss \\
		16 & hit  \\
		14 & hit  \\
		1  & hit  \\
		21 & miss \\
		22 & hit  \\
		23 & hit  \\
		22 & hit  \\
		10 & miss \\
		18 & miss \\
		15 & hit  \\
		1  & hit  \\
		0  & hit  \\
		14 & hit  \\
		28 & miss \\
		25 & miss \\
	\end{tabular}
	\begin{align*}
		\text{miss rate} &= \\
		&= \frac{14}{25} = 56% \\
	\end{align*}
	\begin{latin}
		All result produced by \href{https://github.com/1995parham/TCache}{TCache}
	\end{latin}
\end{center}
\end{document}
